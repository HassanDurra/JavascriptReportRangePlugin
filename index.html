<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript Practice</title>
</head>
<body>
        <button id="today">Today Complaint</button><br><br>
        <button id="weekly">Weekly Complaint</button><br><br>
        <button id="monthly">Monthly Complaint</button><br><br>
        <button id="yearly">Yearly Complaint</button><br>
        <br><label for="">From Date:</label><br>
        <input type="date" id="from"><br>
        <label for="">To Date:</label><br>
        <input type="date" id="to">
</body>
</html>

<script>
    let todayButton   = $('#today');
    let weeklyButton  = $('#weekly'); 
    let monthly       = $('#monthly'); 
    let yearly        = $('#yearly'); 
    let fromContainer = $("#from");
    let toContainer   = $("#to");
    // Current Date format
    let currentDate = new Date();
    let year = currentDate.getFullYear();
    let month = ('0' + (currentDate.getMonth() + 1)).slice(-2); // Adding 1 because getMonth() returns zero-based month index
    let day = ('0' + currentDate.getDate()).slice(-2); // Adding zero-padding
    let todayDate = year + '-' + month + '-' + day;
    // To get Current Date Range
    todayButton.addEventListener('click', function(){
        fromContainer.value = todayDate;
        toContainer.value = todayDate ;
    });
    // To get Weekly date 
    weeklyButton.addEventListener('click', function(){
        let currentDate = new Date();
        let currentDay = currentDate.getDay(); // Get the current day of the week (0 for Sunday, 1 for Monday, ..., 6 for Saturday)
        let firstDayOfWeek = new Date(currentDate); // Create a new date object for the current date
        firstDayOfWeek.setDate(currentDate.getDate() - currentDay); // Set the date back to the first day of the current week
    
        // Format the first day of the week
        let year = firstDayOfWeek.getFullYear();
        let month = ('0' + (firstDayOfWeek.getMonth() + 1)).slice(-2);
        let day = ('0' + firstDayOfWeek.getDate()).slice(-2);
        let fromDateString = `${year}-${month}-${day}`;
    
        // Format the current date
        let todayDate = ('0' + currentDate.getDate()).slice(-2);
        let todayMonth = ('0' + (currentDate.getMonth() + 1)).slice(-2);
        let todayYear = currentDate.getFullYear();
        let toDateString = `${todayYear}-${todayMonth}-${todayDate}`;
    
        fromContainer.value = fromDateString;
        toContainer.value = toDateString;
    });
    
    // To Get Monthly
    monthly.addEventListener('click', function(){
        let currentDate = new Date();
        let currentYear = currentDate.getFullYear();
        let currentMonth = currentDate.getMonth();
    
        // Create the first date of the current month
        let firstDateOfMonth = new Date(currentYear, currentMonth, 1);
        let year = firstDateOfMonth.getFullYear();
        let month = ('0' + (firstDateOfMonth.getMonth() + 1)).slice(-2);
        let day = ('0' + firstDateOfMonth.getDate()).slice(-2);
        let fromDateString = `${year}-${month}-${day}`;
    
        // Create the current date
        let todayDate = ('0' + currentDate.getDate()).slice(-2);
        let todayMonth = ('0' + (currentMonth + 1)).slice(-2);
        let todayYear = currentDate.getFullYear();
        let toDateString = `${todayYear}-${todayMonth}-${todayDate}`;
    
        fromContainer.value = fromDateString;
        toContainer.value = toDateString;
    });
    yearly.addEventListener('click', function(){
        let currentDate = new Date();
        let currentYear = currentDate.getFullYear();
    
        // Create the first date of the current year
        let firstDateOfYear = new Date(currentYear, 0, 1);
        let year = firstDateOfYear.getFullYear();
        let month = ('0' + (firstDateOfYear.getMonth() + 1)).slice(-2);
        let day = ('0' + firstDateOfYear.getDate()).slice(-2);
        let fromDateString = `${year}-${month}-${day}`;
    
        // Create the current date
        let todayDate = ('0' + currentDate.getDate()).slice(-2);
        let todayMonth = ('0' + (currentDate.getMonth() + 1)).slice(-2);
        let todayYear = currentDate.getFullYear();
        let toDateString = `${todayYear}-${todayMonth}-${todayDate}`;
    
        fromContainer.value = fromDateString;
        toContainer.value = toDateString;
    });    
    function $(selector){
        return document.querySelector(selector);
    }
    
</script>
